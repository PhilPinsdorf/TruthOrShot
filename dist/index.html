<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Truth or Shot</title>
    <link
      rel="icon"
      type="image/png"
      href="https://truthorshot.netlify.app/assets/favicon.png"
    />
  </head>
  <body>
    <div class="title">Title</div>
    <div class="question">
      <button class="next" onclick="newQuestion()">result</button>
    </div>
    <audio
      class="card-audio"
      src="https://truthorshot.netlify.app/assets/next_card.mp3"
    ></audio>
  </body>
  <script>
    var title = document.querySelector('.title');
    var button = document.querySelector('.next');
    var audio = document.querySelector('.card-audio');
    var lastColor = '#f00';
    var loader = '<div class="lds-dual-ring"></div>';
    newQuestion();
    function newQuestion() {
      audio.play();
      button.innerHTML = loader;
      fetch(
        'https://truthorshot.netlify.app/.netlify/functions/api/newquestion'
      )
        .then((response) => response.json())
        .then((data) => {
          button.innerHTML = data.text;
          button.style.color = data.color;
          button.style.border = '3px solid ' + data.color;
          title.style.color = data.color;
          title.innerHTML = data.title;
          button.style.setProperty('--ring-color', data.color);
        });
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap');

    html {
      background-color: #121212;
      color: #fafafa;
      height: 100%;
      margin: 0;
    }

    * {
      box-sizing: border-box;
    }

    .question {
      width: 90%;
      height: 70%;
      margin: 0 auto;
      box-shadow: #000 200 200 0 0;
      position: absolute;
      top: 50%;
      left: 50%;
      margin-right: -50%;
      transform: translate(-50%, -50%);
    }

    .next {
      --ring-color: #fafafa;
      background-color: #212121;
      display: block;
      margin: 10px 0;
      width: 100%;
      height: 100%;
      cursor: pointer;
      border: none;
      border-radius: 20px;
      color: #fafafa;
      border: 3px solid #fafafa;
      font-family: 'Source Code Pro', monospace;
      font-size: xx-large;
      box-shadow: 10px 10px 10px rgba(0, 0, 0, 0.3);
    }

    .title {
      font-family: 'Source Code Pro', monospace;
      font-weight: bolder;
      font-size: xx-large;
      width: 90%;
      height: 10%;
      margin: 0 auto;
      position: absolute;
      text-align: center;
      text-shadow: 10px 10px 10px rgba(0, 0, 0, 0.3);
      top: 10%;
      left: 50%;
      margin-right: -50%;
      transform: translate(-50%, -50%);
    }

    .lds-dual-ring {
      display: inline-block;
      width: 80px;
      height: 80px;
    }

    .lds-dual-ring:after {
      content: ' ';
      display: block;
      width: 64px;
      height: 64px;
      margin: 8px;
      border-radius: 50%;
      border: 6px solid #fff;
      border-color: var(--ring-color) transparent var(--ring-color) transparent;
      animation: lds-dual-ring 1.2s linear infinite;
    }

    @keyframes lds-dual-ring {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</html>
